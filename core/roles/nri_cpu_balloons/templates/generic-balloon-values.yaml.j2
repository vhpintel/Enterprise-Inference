# Copyright (C) 2025-2026 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

# Generic NRI Balloon Policy Template for vLLM Models (Simplified)
config:
  agent:
    nodeResourceTopology: true
    podResourceAPI: false
  allocatorTopologyBalancing: true
  pinCPU: true
  pinMemory: false
  reservedResources:
    cpu: "cpuset:{{ nri_reserved_cpu_list }}"
  balloonTypes:
    - name: "{{ balloon_name }}"
      matchExpressions:
        - key: "{{ match_expression.split('=')[0] }}"
          operator: In
          values:
            - "{{ match_expression.split('=')[1] }}"
      minCPUs: {{ workload_cpus }}
      maxCPUs: 1024
      allocatorPriority: "high"
    - name: "reserved"
      allocatorPriority: "high"
      namespaces:
        - "*"
  log:
    source: true
    debug:
      - policy
